<div id="heise-container" style="background-color: #161b22; color: #e6edf3; font-family: sans-serif; border-radius: 8px; overflow: hidden; width: 100%; height: 100%; display: flex; flex-direction: column;">
    <div style="background-color: #d10019; color: white; padding: 10px; font-weight: bold; text-align: center; font-size: 14px; letter-spacing: 1px;">
        HEISE SECURITY ALERTS
    </div>
    <div id="heise-content" style="padding: 10px; overflow-y: auto; flex: 1; scrollbar-width: none;">
        Lade Meldungen...
    </div>
</div>

<script>
    (function() {
        const RSS_URL = `https://www.heise.de/security/feed.xml`;
        const API_URL = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(RSS_URL)}`;

        async function loadHeise() {
            try {
                const response = await fetch(API_URL);
                const data = await response.json();
                const container = document.getElementById('heise-content');
                
                if (data.status === 'ok') {
                    container.innerHTML = '';
                    data.items.forEach(item => {
                        const date = new Date(item.pubDate).toLocaleString('de-DE', {
                            day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit'
                        });
                        
                        const itemHtml = `
                            <div style="margin-bottom: 10px; padding: 8px; background: #21262d; border-radius: 4px; border-left: 3px solid #d10019;">
                                <a href="${item.link}" target="_blank" style="text-decoration: none; color: #58a6ff; font-size: 13px; font-weight: 600; display: block;">${item.title}</a>
                                <small style="color: #8b949e; font-size: 10px; display: block; margin-top: 4px;">${date} Uhr</small>
                            </div>`;
                        container.insertAdjacentHTML('beforeend', itemHtml);
                    });
                }
            } catch (e) {
                document.getElementById('heise-content').innerHTML = "Fehler beim Laden.";
            }
        }

        loadHeise();
        setInterval(loadHeise, 900000); // Alle 15 Min Update
    })();
</script>
